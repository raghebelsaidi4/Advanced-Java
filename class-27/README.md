# Servlet Listeners

Servlet listeners are interfaces that contain event handlers (methods) to handle events (classes and objects) generated by the web container. These listeners allow developers to respond to specific events in the lifecycle of a web application, such as the creation or destruction of a `ServletContext` or `HttpSession`.

---

## List of Servlet Listeners

1. **ServletContextListeners**
2. **ServletContextAttributeListeners**
3. **HttpSessionListeners**
4. **HttpSessionAttributeListeners**

---

## 1. ServletContextListeners

The `ServletContextListener` interface contains event handlers to handle `ServletContextEvent`, which is generated by the web container whenever the `ServletContext` is created or destroyed.

### Methods in `ServletContextListener`:
- `void contextInitialized(ServletContextEvent sce)`: Called when the `ServletContext` is created (web app is deployed).
- `void contextDestroyed(ServletContextEvent sce)`: Called when the `ServletContext` is destroyed (web app is undeployed).

### Lifecycle of `ServletContextListener`:

#### When Web App is Deployed:
1. `ServletContext` is created.
2. `ServletContextEvent` is generated.
3. `ServletContextEvent` is passed to the `contextInitialized()` method.
4. The `contextInitialized()` method is executed.

#### When Web App is Undeployed:
1. `ServletContext` is destroyed.
2. `ServletContextEvent` is generated.
3. `ServletContextEvent` is passed to the `contextDestroyed()` method.
4. The `contextDestroyed()` method is executed.

### Example:

**MyServletContextListener.java**
```java
import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class MyServletContextListener implements ServletContextListener {
    @Override
    public void contextInitialized(ServletContextEvent sce) {
        System.out.println("ServletContext created! Web application is deployed.");
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
        System.out.println("ServletContext destroyed! Web application is undeployed.");
    }
}
```

**web.xml (Alternative to `@WebListener`)**
```xml
<listener>
    <listener-class>MyServletContextListener</listener-class>
</listener>
```

---

## 2. ServletContextAttributeListeners

The `ServletContextAttributeListener` interface contains event handlers to handle `ServletContextAttributeEvent`, which is generated by the web container whenever an attribute is added, removed, or replaced in the `ServletContext`.

### Methods in `ServletContextAttributeListener`:
- `void attributeAdded(ServletContextAttributeEvent event)`: Called when an attribute is added to the `ServletContext`.
- `void attributeRemoved(ServletContextAttributeEvent event)`: Called when an attribute is removed from the `ServletContext`.
- `void attributeReplaced(ServletContextAttributeEvent event)`: Called when an attribute is replaced in the `ServletContext`.

### Example:

**MyServletContextAttributeListener.java**
```java
import jakarta.servlet.ServletContextAttributeEvent;
import jakarta.servlet.ServletContextAttributeListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class MyServletContextAttributeListener implements ServletContextAttributeListener {
    @Override
    public void attributeAdded(ServletContextAttributeEvent event) {
        System.out.println("Attribute added: " + event.getName() + " = " + event.getValue());
    }

    @Override
    public void attributeRemoved(ServletContextAttributeEvent event) {
        System.out.println("Attribute removed: " + event.getName());
    }

    @Override
    public void attributeReplaced(ServletContextAttributeEvent event) {
        System.out.println("Attribute replaced: " + event.getName() + " = " + event.getValue());
    }
}
```

---

## 3. HttpSessionListeners

The `HttpSessionListener` interface contains event handlers to handle `HttpSessionEvent`, which is generated by the web container whenever an `HttpSession` is created or destroyed.

### Methods in `HttpSessionListener`:
- `void sessionCreated(HttpSessionEvent se)`: Called when a session is created.
- `void sessionDestroyed(HttpSessionEvent se)`: Called when a session is destroyed.

### Example:

**MyHttpSessionListener.java**
```java
import jakarta.servlet.http.HttpSessionEvent;
import jakarta.servlet.http.HttpSessionListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class MyHttpSessionListener implements HttpSessionListener {
    @Override
    public void sessionCreated(HttpSessionEvent se) {
        System.out.println("Session created: " + se.getSession().getId());
    }

    @Override
    public void sessionDestroyed(HttpSessionEvent se) {
        System.out.println("Session destroyed: " + se.getSession().getId());
    }
}
```

---

## 4. HttpSessionAttributeListeners

The `HttpSessionAttributeListener` interface contains event handlers to handle `HttpSessionBindingEvent`, which is generated by the web container whenever an attribute is added, removed, or replaced in the `HttpSession`.

### Methods in `HttpSessionAttributeListener`:
- `void attributeAdded(HttpSessionBindingEvent event)`: Called when an attribute is added to the session.
- `void attributeRemoved(HttpSessionBindingEvent event)`: Called when an attribute is removed from the session.
- `void attributeReplaced(HttpSessionBindingEvent event)`: Called when an attribute is replaced in the session.

### Example:

**MyHttpSessionAttributeListener.java**
```java
import jakarta.servlet.http.HttpSessionBindingEvent;
import jakarta.servlet.http.HttpSessionAttributeListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class MyHttpSessionAttributeListener implements HttpSessionAttributeListener {
    @Override
    public void attributeAdded(HttpSessionBindingEvent event) {
        System.out.println("Session attribute added: " + event.getName() + " = " + event.getValue());
    }

    @Override
    public void attributeRemoved(HttpSessionBindingEvent event) {
        System.out.println("Session attribute removed: " + event.getName());
    }

    @Override
    public void attributeReplaced(HttpSessionBindingEvent event) {
        System.out.println("Session attribute replaced: " + event.getName() + " = " + event.getValue());
    }
}
```